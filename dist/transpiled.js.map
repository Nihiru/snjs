{"version":3,"sources":["lib.js"],"names":["SNComponent","json_obj","window","componentData","disassociatedItemIds","associatedItemIds","content","hosted_url","legacy_url","url","local_url","offlineOnly","valid_until","Date","name","autoupdateDisabled","package_info","area","permissions","active","params","superParams","Object","assign","content_type","getAppDataItem","size","setAppDataItem","acceptsThemes","uuid","concat","Component","associativeAreas","includes","item","push","indexOf","SFItem","SNEditor","notes","data","default","systemEditor","references","_","map","note","find","pull","uuids","ref","forEach","remove","bind","newItem","oldUUID","newUUID","key","value","dataHasChanged","JSON","stringify","Action","json","merge","running","error","lastExecuted","SNExtension","actions","action","filter","context","description","supported_types","a","omit","SNNote","text","tags","title","addItemAsRelationship","clearSavedTagsString","tag","savedTagsString","SNTag","arrayToDisplayString","filtered","dummy","slice","setIsNoLongerBeingReferencedBy","length","tagDidFinishSyncing","sort","b","i","join","SNEncryptedStorage","storage","SNMfa","SNServerExtension","SNSmartTag","json_ob","SystemSmartTagIdAllNotes","isSystemTag","isAllTag","predicate","SFPredicate","fromArray","SystemSmartTagIdArchivedNotes","isArchiveTag","SystemSmartTagIdTrashedNotes","isTrashTag","SNTheme","layerable","rules","constants","na","e","console","log"],"mappings":"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","file":"transpiled.js","sourcesContent":["export class SNComponent extends SFItem {\n\n  constructor(json_obj) {\n    // If making a copy of an existing component (usually during sign in if you have a component active in the session),\n    // which may have window set, you may get a cross-origin exception since you'll be trying to copy the window. So we clear it here.\n    json_obj.window = null;\n\n    super(json_obj);\n\n    if(!this.componentData) {\n      this.componentData = {};\n    }\n\n    if(!this.disassociatedItemIds) {\n      this.disassociatedItemIds = [];\n    }\n\n    if(!this.associatedItemIds) {\n      this.associatedItemIds = [];\n    }\n  }\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    /* Legacy */\n    // We don't want to set the url directly, as we'd like to phase it out.\n    // If the content.url exists, we'll transfer it to legacy_url\n    // We'll only need to set this if content.hosted_url is blank, otherwise, hosted_url is the url replacement.\n    if(!content.hosted_url) {\n      this.legacy_url = content.url;\n    }\n\n    /* New */\n    this.local_url = content.local_url;\n    this.hosted_url = content.hosted_url || content.url;\n    this.offlineOnly = content.offlineOnly;\n\n    if(content.valid_until) {\n      this.valid_until = new Date(content.valid_until);\n    }\n\n    this.name = content.name;\n    this.autoupdateDisabled = content.autoupdateDisabled;\n\n    this.package_info = content.package_info;\n\n    // the location in the view this component is located in. Valid values are currently tags-list, note-tags, and editor-stack`\n    this.area = content.area;\n\n    this.permissions = content.permissions;\n    if(!this.permissions) {\n      this.permissions = [];\n    }\n\n    this.active = content.active;\n\n    // custom data that a component can store in itself\n    this.componentData = content.componentData || {};\n\n    // items that have requested a component to be disabled in its context\n    this.disassociatedItemIds = content.disassociatedItemIds || [];\n\n    // items that have requested a component to be enabled in its context\n    this.associatedItemIds = content.associatedItemIds || [];\n  }\n\n  handleDeletedContent() {\n    super.handleDeletedContent();\n\n    this.active = false;\n  }\n\n  structureParams() {\n    var params = {\n      legacy_url: this.legacy_url,\n      hosted_url: this.hosted_url,\n      local_url: this.local_url,\n      valid_until: this.valid_until,\n      offlineOnly: this.offlineOnly,\n      name: this.name,\n      area: this.area,\n      package_info: this.package_info,\n      permissions: this.permissions,\n      active: this.active,\n      autoupdateDisabled: this.autoupdateDisabled,\n      componentData: this.componentData,\n      disassociatedItemIds: this.disassociatedItemIds,\n      associatedItemIds: this.associatedItemIds,\n    };\n\n    var superParams = super.structureParams();\n    Object.assign(superParams, params);\n    return superParams;\n  }\n\n  get content_type() {\n    return \"SN|Component\";\n  }\n\n  isEditor() {\n    return this.area == \"editor-editor\";\n  }\n\n  isTheme() {\n    return this.content_type == \"SN|Theme\" || this.area == \"themes\";\n  }\n\n  isDefaultEditor() {\n    return this.getAppDataItem(\"defaultEditor\") == true;\n  }\n\n  setLastSize(size) {\n    this.setAppDataItem(\"lastSize\", size);\n  }\n\n  getLastSize() {\n    return this.getAppDataItem(\"lastSize\");\n  }\n\n  acceptsThemes() {\n    if(this.content.package_info && \"acceptsThemes\" in this.content.package_info) {\n      return this.content.package_info.acceptsThemes;\n    }\n    return true;\n  }\n\n  /*\n    The key used to look up data that this component may have saved to an item.\n    This key will be look up on the item, and not on itself.\n   */\n  getClientDataKey() {\n    if(this.legacy_url) {\n      return this.legacy_url;\n    } else {\n      return this.uuid;\n    }\n  }\n\n  hasValidHostedUrl() {\n    return this.hosted_url || this.legacy_url;\n  }\n\n  keysToIgnoreWhenCheckingContentEquality() {\n    return [\"active\", \"disassociatedItemIds\", \"associatedItemIds\"].concat(super.keysToIgnoreWhenCheckingContentEquality());\n  }\n\n\n  /*\n    An associative component depends on being explicitly activated for a given item, compared to a dissaciative component,\n    which is enabled by default in areas unrelated to a certain item.\n   */\n   static associativeAreas() {\n     return [\"editor-editor\"];\n   }\n\n  isAssociative() {\n    return Component.associativeAreas().includes(this.area);\n  }\n\n  associateWithItem(item) {\n    this.associatedItemIds.push(item.uuid);\n  }\n\n  isExplicitlyEnabledForItem(item) {\n    return this.associatedItemIds.indexOf(item.uuid) !== -1;\n  }\n\n  isExplicitlyDisabledForItem(item) {\n    return this.disassociatedItemIds.indexOf(item.uuid) !== -1;\n  }\n}\n;export class SNEditor extends SFItem {\n\n  constructor(json_obj) {\n    super(json_obj);\n    if(!this.notes) {\n      this.notes = [];\n    }\n    if(!this.data) {\n      this.data = {};\n    }\n  }\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    this.url = content.url;\n    this.name = content.name;\n    this.data = content.data || {};\n    this.default = content.default;\n    this.systemEditor = content.systemEditor;\n  }\n\n  structureParams() {\n    var params = {\n      url: this.url,\n      name: this.name,\n      data: this.data,\n      default: this.default,\n      systemEditor: this.systemEditor\n    };\n\n    var superParams = super.structureParams();\n    Object.assign(superParams, params);\n    return superParams;\n  }\n\n  referenceParams() {\n    var references = _.map(this.notes, function(note){\n      return {uuid: note.uuid, content_type: note.content_type};\n    })\n\n    return references;\n  }\n\n  addItemAsRelationship(item) {\n    if(item.content_type == \"Note\") {\n      if(!_.find(this.notes, item)) {\n        this.notes.push(item);\n      }\n    }\n    super.addItemAsRelationship(item);\n  }\n\n  removeItemAsRelationship(item) {\n    if(item.content_type == \"Note\") {\n      _.pull(this.notes, item);\n    }\n    super.removeItemAsRelationship(item);\n  }\n\n  removeAndDirtyAllRelationships() {\n    super.removeAndDirtyAllRelationships();\n    this.notes = [];\n  }\n\n  removeReferencesNotPresentIn(references) {\n    super.removeReferencesNotPresentIn(references);\n\n    var uuids = references.map(function(ref){return ref.uuid});\n    this.notes.forEach(function(note){\n      if(!uuids.includes(note.uuid)) {\n        _.remove(this.notes, {uuid: note.uuid});\n      }\n    }.bind(this))\n  }\n\n  potentialItemOfInterestHasChangedItsUUID(newItem, oldUUID, newUUID) {\n    if(newItem.content_type === \"Note\" && _.find(this.notes, {uuid: oldUUID})) {\n      _.remove(this.notes, {uuid: oldUUID});\n      this.notes.push(newItem);\n    }\n  }\n\n  get content_type() {\n    return \"SN|Editor\";\n  }\n\n  setData(key, value) {\n    var dataHasChanged = JSON.stringify(this.data[key]) !== JSON.stringify(value);\n    if(dataHasChanged) {\n      this.data[key] = value;\n      return true;\n    }\n    return false;\n  }\n\n  dataForKey(key) {\n    return this.data[key] || {};\n  }\n}\n;export class Action {\n  constructor(json) {\n    _.merge(this, json);\n    this.running = false; // in case running=true was synced with server since model is uploaded nondiscriminatory\n    this.error = false;\n    if(this.lastExecuted) {\n      // is string\n      this.lastExecuted = new Date(this.lastExecuted);\n    }\n  }\n}\n\nexport class SNExtension extends SFItem {\n  constructor(json) {\n      super(json);\n\n      if(json.actions) {\n        this.actions = json.actions.map(function(action){\n          return new Action(action);\n        })\n      }\n\n      if(!this.actions) {\n        this.actions = [];\n      }\n  }\n\n  actionsWithContextForItem(item) {\n    return this.actions.filter(function(action){\n      return action.context == item.content_type || action.context == \"Item\";\n    })\n  }\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    this.description = content.description;\n    this.url = content.url;\n    this.name = content.name;\n    this.package_info = content.package_info;\n    this.supported_types = content.supported_types;\n    if(content.actions) {\n      this.actions = content.actions.map(function(action){\n        return new Action(action);\n      })\n    }\n  }\n\n  get content_type() {\n    return \"Extension\";\n  }\n\n  structureParams() {\n    var params = {\n      name: this.name,\n      url: this.url,\n      package_info: this.package_info,\n      description: this.description,\n      actions: this.actions.map((a) => {return _.omit(a, [\"subrows\", \"subactions\"])}),\n      supported_types: this.supported_types\n    };\n\n    var superParams = super.structureParams();\n    Object.assign(superParams, params);\n    return superParams;\n  }\n\n}\n;export class SNNote extends SFItem {\n\n  constructor(json_obj) {\n    super(json_obj);\n\n    if(!this.text) {\n      // Some external editors can't handle a null value for text.\n      // Notes created on mobile with no text have a null value for it,\n      // so we'll just set a default here.\n      this.text = \"\";\n    }\n\n    if(!this.tags) {\n      this.tags = [];\n    }\n  }\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    this.title = content.title;\n    this.text = content.text;\n  }\n\n  structureParams() {\n    var params = {\n      title: this.title,\n      text: this.text\n    };\n\n    var superParams = super.structureParams();\n    Object.assign(superParams, params);\n    return superParams;\n  }\n\n  addItemAsRelationship(item) {\n    /*\n    Legacy.\n    Previously, note/tag relationships were bidirectional, however in some cases there\n    may be broken links such that a note has references to a tag and not vice versa.\n    Now, only tags contain references to notes. For old notes that may have references to tags,\n    we want to transfer them over to the tag.\n     */\n    if(item.content_type == \"Tag\") {\n      item.addItemAsRelationship(this);\n    }\n    super.addItemAsRelationship(item);\n  }\n\n  setIsBeingReferencedBy(item) {\n    super.setIsBeingReferencedBy(item);\n    this.clearSavedTagsString();\n  }\n\n  setIsNoLongerBeingReferencedBy(item) {\n    super.setIsNoLongerBeingReferencedBy(item);\n    this.clearSavedTagsString();\n  }\n\n  isBeingRemovedLocally() {\n    this.tags.forEach(function(tag){\n      _.remove(tag.notes, {uuid: this.uuid});\n    }.bind(this))\n    super.isBeingRemovedLocally();\n  }\n\n  static filterDummyNotes(notes) {\n    var filtered = notes.filter(function(note){return note.dummy == false || note.dummy == null});\n    return filtered;\n  }\n\n  informReferencesOfUUIDChange(oldUUID, newUUID) {\n    super.informReferencesOfUUIDChange();\n    for(var tag of this.tags) {\n      _.remove(tag.notes, {uuid: oldUUID});\n      tag.notes.push(this);\n    }\n  }\n\n  tagDidFinishSyncing(tag) {\n    this.clearSavedTagsString();\n  }\n\n  safeText() {\n    return this.text || \"\";\n  }\n\n  safeTitle() {\n    return this.title || \"\";\n  }\n\n  get content_type() {\n    return \"Note\";\n  }\n\n  get displayName() {\n    return \"Note\";\n  }\n\n  clearSavedTagsString() {\n    this.savedTagsString = null;\n  }\n\n  tagsString() {\n    this.savedTagsString = SNTag.arrayToDisplayString(this.tags);\n    return this.savedTagsString;\n  }\n}\n;export class SNTag extends SFItem {\n\n  constructor(json_obj) {\n    super(json_obj);\n\n    if(!this.content_type) {\n      this.content_type = \"Tag\";\n    }\n\n    if(!this.notes) {\n      this.notes = [];\n    }\n  }\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    this.title = content.title;\n  }\n\n  structureParams() {\n    var params = {\n      title: this.title\n    };\n\n    var superParams = super.structureParams();\n    Object.assign(superParams, params);\n    return superParams;\n  }\n\n  addItemAsRelationship(item) {\n    if(item.content_type == \"Note\") {\n      if(!_.find(this.notes, {uuid: item.uuid})) {\n        this.notes.push(item);\n        item.tags.push(this);\n      }\n    }\n    super.addItemAsRelationship(item);\n  }\n\n  removeItemAsRelationship(item) {\n    if(item.content_type == \"Note\") {\n      _.remove(this.notes, {uuid: item.uuid});\n      _.remove(item.tags, {uuid: this.uuid});\n    }\n    super.removeItemAsRelationship(item);\n  }\n\n  updateLocalRelationships() {\n    var references = this.content.references;\n\n    var uuids = references.map(function(ref){return ref.uuid});\n    this.notes.slice().forEach(function(note){\n      if(!uuids.includes(note.uuid)) {\n        _.remove(note.tags, {uuid: this.uuid});\n        _.remove(this.notes, {uuid: note.uuid});\n\n        note.setIsNoLongerBeingReferencedBy(this);\n      }\n    }.bind(this))\n  }\n\n  isBeingRemovedLocally() {\n    this.notes.forEach((note) => {\n      _.remove(note.tags, {uuid: this.uuid});\n      note.setIsNoLongerBeingReferencedBy(this);\n    })\n\n    this.notes.length = 0;\n\n    super.isBeingRemovedLocally();\n  }\n\n  informReferencesOfUUIDChange(oldUUID, newUUID) {\n    for(var note of this.notes) {\n      _.remove(note.tags, {uuid: oldUUID});\n      note.tags.push(this);\n    }\n  }\n\n  didFinishSyncing() {\n    for(var note of this.notes) {\n      note.tagDidFinishSyncing(this);\n    }\n  }\n\n  isSmartTag() {\n    return this.content_type == \"SN|SmartTag\";\n  }\n\n  get displayName() {\n    return \"Tag\";\n  }\n\n  static arrayToDisplayString(tags) {\n    return tags.sort((a, b) => {return a.title > b.title}).map(function(tag, i){\n      return \"#\" + tag.title;\n    }).join(\" \");\n  }\n}\n;export class SNEncryptedStorage extends SFItem {\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    this.storage = content.storage;\n  }\n\n  get content_type() {\n    return \"SN|EncryptedStorage\";\n  }\n\n}\n;export class SNMfa extends SFItem {\n\n  constructor(json_obj) {\n    super(json_obj);\n  }\n\n  // mapContentToLocalProperties(content) {\n  //   super.mapContentToLocalProperties(content)\n  //   this.serverContent = content;\n  // }\n  //\n  // structureParams() {\n  //   return _.merge(this.serverContent, super.structureParams());\n  // }\n\n  get content_type() {\n    return \"SF|MFA\";\n  }\n\n  doNotEncrypt() {\n    return true;\n  }\n\n}\n;export class SNServerExtension extends SFItem {\n\n  mapContentToLocalProperties(content) {\n    super.mapContentToLocalProperties(content)\n    this.url = content.url;\n  }\n\n  get content_type() {\n    return \"SF|Extension\";\n  }\n\n  doNotEncrypt() {\n    return true;\n  }\n}\n;export class SNSmartTag extends SNTag {\n\n  constructor(json_ob) {\n    super(json_ob);\n    this.content_type = \"SN|SmartTag\";\n  }\n\n  static systemSmartTags() {\n    return [\n      new SNSmartTag({\n        uuid: SNSmartTag.SystemSmartTagIdAllNotes,\n        content: {\n          title: \"All notes\",\n          isSystemTag: true,\n          isAllTag: true,\n          predicate: new SFPredicate.fromArray([\"content_type\", \"=\", \"Note\"])\n        }\n      }),\n      new SNSmartTag({\n        uuid: SNSmartTag.SystemSmartTagIdArchivedNotes,\n        content: {\n          title: \"Archived\",\n          isSystemTag: true,\n          isArchiveTag: true,\n          predicate: new SFPredicate.fromArray([\"archived\", \"=\", true])\n        }\n      }),\n      new SNSmartTag({\n        uuid: SNSmartTag.SystemSmartTagIdTrashedNotes,\n        content: {\n          title: \"Trash\",\n          isSystemTag: true,\n          isTrashTag: true,\n          predicate: new SFPredicate.fromArray([\"content.trashed\", \"=\", true])\n        }\n      })\n    ]\n  }\n}\n\nSNSmartTag.SystemSmartTagIdAllNotes = \"all-notes\";\nSNSmartTag.SystemSmartTagIdArchivedNotes = \"archived-notes\";\nSNSmartTag.SystemSmartTagIdTrashedNotes = \"trashed-notes\";\n;export class SNTheme extends SNComponent {\n\n  constructor(json_obj) {\n    super(json_obj);\n    this.area = \"themes\";\n  }\n\n  isLayerable() {\n    return this.package_info && this.package_info.layerable;\n  }\n\n  get content_type() {\n    return \"SN|Theme\";\n  }\n\n  get displayName() {\n    return \"Theme\";\n  }\n\n  setMobileRules(rules) {\n    this.setAppDataItem(\"mobileRules\", rules);\n  }\n\n  getMobileRules() {\n    return this.getAppDataItem(\"mobileRules\") || {constants: {}, rules: {}};\n  }\n\n  // Same as getMobileRules but without default value\n  hasMobileRules() {\n    return this.getAppDataItem(\"mobileRules\");\n  }\n\n  setNotAvailOnMobile(na) {\n    this.setAppDataItem(\"notAvailableOnMobile\", na);\n  }\n\n  getNotAvailOnMobile() {\n    return this.getAppDataItem(\"notAvailableOnMobile\");\n  }\n\n  /* We must not use .active because if you set that to true, it will also activate that theme on desktop/web */\n  setMobileActive(active) {\n    this.setAppDataItem(\"mobileActive\", active);\n  }\n\n  isMobileActive() {\n    return this.getAppDataItem(\"mobileActive\");\n  }\n}\n;import {SFItem} from 'standard-file-js';\n\nif(typeof window !== 'undefined' && window !== null) {\n  // window is for some reason defined in React Native, but throws an exception when you try to set to it\n  try {\n    window.SNNote = SNNote;\n    window.SNTag = SNTag;\n    window.SNSmartTag = SNSmartTag;\n    window.SNMfa = SNMfa;\n    window.SNServerExtension = SNServerExtension;\n    window.SNComponent = SNComponent;\n    window.SNEditor = SNEditor;\n    window.SNExtension = SNExtension;\n    window.SNTheme = SNTheme;\n    window.SNEncryptedStorage = SNEncryptedStorage;\n  } catch (e) {\n    console.log(\"Exception while exporting sn-models window variables\", e);\n  }\n}\n"]}